# GitHub Copilot Instructions

## プロジェクト概要

- 目的: 日付つきの作業ディレクトリを素早く作成して移動するためのシェル関数ユーティリティ
- 主な機能: `~/work/YYYYMMDD_name` を自動作成、自動更新チェック、インストール/アンインストール
- 対象ユーザー: 開発者、シェル環境のユーザー

## 共通ルール

- 会話は日本語で行う。
- PR とコミットは Conventional Commits に従う。`<description>` は日本語で記載する。
- 日本語と英数字の間には半角スペースを入れる。

## 技術スタック

- 言語: Bash / POSIX Shell
- 依存コマンド: curl, jq, sha256sum/shasum（更新機能に必要）
- パッケージマネージャー: なし（シェルスクリプトプロジェクト）

## コーディング規約

- POSIX Shell 互換の記法を優先する
- 関数名は `mkwork__` プレフィックスを使用する
- コメントは日本語で記載する
- エラーメッセージは英語で記載する
- ShellCheck の警告に従う

## 開発コマンド

```bash
# シンタックスチェック
sh -n mkwork.sh

# ShellCheck による静的解析
shellcheck mkwork.sh

# スモークテスト
./.github/workflows/smoke-test.yml に記載されたテストを実行
```

## テスト方針

- テストフレームワーク: なし（スモークテストのみ）
- ShellCheck による静的解析を実施する
- 新機能追加時は、スモークテストに追加のケースを含める
- インストール/アンインストール/更新の動作を確認する

## セキュリティ / 機密情報

- API キーや認証情報を Git にコミットしない。
- ログに個人情報や認証情報を出力しない。
- ダウンロードしたファイルは SHA256 チェックサムで検証する。

## ドキュメント更新

以下のファイルを機能追加時に更新する:

- `README.md` (英語)
- `README-ja.md` (日本語)

## リポジトリ固有

- このプロジェクトは単一の `mkwork.sh` ファイルで構成される。
- リリース時に GitHub Actions が自動的にバージョンを注入し、アセットをアップロードする。
- 更新チェック・更新機能は `curl`, `jq`, `sha256sum`/`shasum` に依存する。
- 本体機能（ディレクトリ作成と移動）は外部コマンドに依存しない。
- シェル関数として動作するため、親シェルの `cwd` を変更できる。
